<!DOCTYPE html>
<html lang="es">
    <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FlexiCoche</title>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js"
        crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="../assets/css/legal.css" />
    <link rel="icon" type="image/x-icon" href="../favicon.ico" />
    </head>
    <body>
    <header>
        <div class="top-bar">
        <span class="logo">
        <a href="../index.html"
            ><img src="../assets/images/logo.png" alt="FlexiCoche Logo"
        /></a>
        </span>
        <nav class="auth-section">
        <a href="/templates/consult-reserv.html"
            ><i class="fas fa-car"></i> Gestionar reservas</a
          >
          <div id="userInfo">
            <a href="/templates/modify-profile.html"
              ><i class="fas fa-user"></i> Hola,
              <span id="headerUserName"></span
            ></a>
          </div>
          <a id="loginLink" href="templates/login.html"
            ><i class="fas fa-user"></i> Inicia sesi√≥n</a
          >
          <a class="logout-btn d-none" id="headerLogoutBtn">
            <i class="fas fa-sign-out-alt"></i>
          </a>
        </nav>
      </div>
    </header>

    <main class="container">
  <h1>Aviso Legal</h1>
  <p>
    Bienvenido a FlexiCoche. Este Aviso Legal regula el acceso, navegaci√≥n y uso del sitio web <strong>FlexiCoche</strong> (en adelante, el ‚ÄúSitio Web‚Äù), as√≠ como las responsabilidades derivadas de la utilizaci√≥n de sus contenidos.
  </p>
  <h2>Datos del titular</h2>
  <ul>
    <li><strong>Nombre comercial:</strong> FlexiCoche</li>
    <li><strong>Domicilio social:</strong> Calle Ejemplo, 123, 28000 Madrid, Espa√±a</li>
    <li><strong>Email de contacto:</strong> <a href="mailto:info@flexicoche.com">info@flexicoche.com</a></li>
  </ul>
  <h2>Condiciones de uso</h2>
  <p>
    El acceso y uso de este Sitio Web atribuye la condici√≥n de usuario e implica la aceptaci√≥n de las condiciones aqu√≠ reflejadas. El usuario se compromete a hacer un uso adecuado de los contenidos y servicios, a no emplearlos para actividades il√≠citas o contrarias a la buena fe y al orden p√∫blico.
  </p>
  <h2>Propiedad intelectual e industrial</h2>
  <p>
    Todos los contenidos del Sitio Web, incluyendo textos, im√°genes, logotipos, iconos, software y dise√±o gr√°fico, son propiedad de FlexiCoche o de terceros que han autorizado su uso. Queda prohibida su reproducci√≥n, distribuci√≥n o modificaci√≥n sin autorizaci√≥n expresa.
  </p>
  <h2>Responsabilidad</h2>
  <p>
    FlexiCoche no se responsabiliza de los da√±os o perjuicios derivados del uso del Sitio Web ni de la informaci√≥n contenida en enlaces a sitios externos, sobre los que no tiene control.
  </p>
  <h2>Modificaciones</h2>
  <p>
    FlexiCoche se reserva el derecho de modificar en cualquier momento y sin previo aviso la presentaci√≥n, configuraci√≥n y contenido del Sitio Web, as√≠ como el presente Aviso Legal.
  </p>
  <h2>Legislaci√≥n aplicable</h2>
  <p>
    Este Aviso Legal se rige por la legislaci√≥n espa√±ola. Para cualquier controversia que pudiera derivarse del acceso o uso del Sitio Web, las partes se someten a los Juzgados y Tribunales de Madrid, salvo que la ley disponga otra cosa.
  </p>
</main>

    <footer>
      <div class="footer-content">
        <p>&copy; 2025 FlexiCoche - Todos los derechos reservados</p>
        <div class="social-icons">
          <a href="https://www.facebook.com" target="_blank"
            ><i class="fab fa-facebook-f"></i
          ></a>
          <a href="https://www.twitter.com" target="_blank"
            ><i class="fab fa-twitter"></i
          ></a>
          <a href="https://www.instagram.com" target="_blank"
            ><i class="fab fa-instagram"></i
          ></a>
          <a href="https://www.linkedin.com" target="_blank"
            ><i class="fab fa-linkedin-in"></i
          ></a>
        </div>
        <div class="footer-links">
          <a href="/templates/privacy.html">Pol√≠tica de privacidad</a> |
          <a href="/templates/cookies.html">Pol√≠tica de cookies</a> |
          <a href="/templates/legal.html">Aviso legal</a>
        </div>
      </div>
    </footer>

    <script>
      function selectVehicle(button) {
        document
          .querySelectorAll(".vehicle-options button")
          .forEach((btn) => btn.classList.remove("selected"));
        button.classList.add("selected");
      }

      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("main-search-form");
        const pickupInput = document.getElementById("pickup-date");
        const returnInput = document.getElementById("return-date");

        // üóìÔ∏è Establecer fecha actual por defecto
        const hoy = new Date().toISOString().split("T")[0];
        pickupInput.value = hoy;

        form?.addEventListener("submit", (e) => {
          e.preventDefault();

          const localizacion = document.getElementById("location")?.value;
          const fechainicio = pickupInput?.value;
          const fechaFin = returnInput?.value;

          if (!fechainicio || !fechaFin) {
            alert(
              "‚ö†Ô∏è Debes seleccionar ambas fechas para realizar la b√∫squeda."
            );
            return;
          }

          if (new Date(fechaFin) < new Date(fechainicio)) {
            alert(
              "üö´ La fecha de devoluci√≥n no puede ser anterior a la de recogida."
            );
            return;
          }

          const params = new URLSearchParams();
          if (localizacion) params.append("localizacion", localizacion);
          params.append("fechaInicio", fechainicio);
          params.append("fechaFin", fechaFin);

          localStorage.setItem("fechaInicio", fechainicio);
          localStorage.setItem("fechaFin", fechaFin);
          localStorage.setItem("localizacion", localizacion);

          window.location.href = `templates/search.html?${params.toString()}`;
        });
      });
    </script>

    <!-- Carga din√°mica de localizaciones -->
    <script type="module">
      import { getLocalizaciones } from "../js/modules/api/vehicle.api.js";

      document.addEventListener("DOMContentLoaded", async () => {
        const select = document.getElementById("location");
        if (!select) return;

        try {
          const localizaciones = await getLocalizaciones();
          select.innerHTML =
            '<option value="">Selecciona una localizaci√≥n</option>';
          localizaciones.forEach((loc) => {
            const option = document.createElement("option");
            option.value = loc;
            option.textContent = loc;
            select.appendChild(option);
          });

          // Rellenar localStorage si se ha guardado previamente
          const savedLoc = localStorage.getItem("localizacion");
          if (savedLoc) select.value = savedLoc;
        } catch (err) {
          console.error("Error cargando localizaciones:", err);
          select.innerHTML =
            '<option value="">Error al cargar localizaciones</option>';
        }
      });
    </script>

    <script type="module" src="/js/modules/pages/index.page.js"></script>

    <!-- Carrusel de im√°genes -->

    <script>
      let currentSlide = 0;

      function showSlide(index) {
        const slides = document.querySelectorAll(".carousel-images img");
        slides.forEach((slide, i) => {
          slide.classList.remove("active");
          if (i === index) {
            slide.classList.add("active");
          }
        });
      }

      function nextSlide() {
        const slides = document.querySelectorAll(".carousel-images img");
        currentSlide = (currentSlide + 1) % slides.length;
        showSlide(currentSlide);
      }

      function prevSlide() {
        const slides = document.querySelectorAll(".carousel-images img");
        currentSlide = (currentSlide - 1 + slides.length) % slides.length;
        showSlide(currentSlide);
      }

      // Cambiar autom√°ticamente cada 5 segundos
      document.addEventListener("DOMContentLoaded", () => {
        showSlide(currentSlide);
        setInterval(nextSlide, 5000); // Cambia cada 5 segundos
      });
    </script>
  </body>
</html>
